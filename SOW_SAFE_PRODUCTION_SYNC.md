# SOW: 本番環境安全調査・同期作業

## 目的

本番環境（https://www.appriver.jp/）とローカル開発環境の乖離を安全に調査し、影響を与えずに同期する。

## 現状分析

- **本番環境**: 38曲のカードと歌詞が正常表示
- **ローカル環境**: songs-data.jsに23曲のみ
- **乖離**: 15曲分のデータがローカルに不足

## 作業フェーズ

### Phase 1: 安全な現状調査

**目標**: 本番環境に一切触れずに現状を把握
**期間**: 1-2時間

1. **ローカルコード分析**
   - 現在の23曲リスト作成
   - ファイル構造の確認
   - バックアップファイルの確認

2. **本番環境の非侵襲調査**
   - WebFetch経由での安全な情報取得
   - ブラウザDevToolsでの構造確認
   - ネットワークタブでのリソース確認

3. **GitHubリポジトリ状況確認**
   - 最新コミット状況
   - ブランチ状況
   - デプロイメント履歴

### Phase 2: 安全なローカル同期

**目標**: 本番環境のデータをローカルに安全に取得
**期間**: 2-3時間

4. **データ取得戦略**
   - 本番サイトのsongs-data.js直接取得
   - スクレイピング経由での楽曲データ抽出
   - 差分データの特定

5. **ローカル更新**
   - 現在のファイルのバックアップ作成
   - 段階的なデータ追加
   - 機能テスト実行

### Phase 3: 検証・テスト

**目標**: ローカル環境で本番環境と同等の状態を再現
**期間**: 1時間

6. **機能検証**
   - 38曲の表示確認
   - 検索・ソート機能テスト
   - レスポンシブ対応確認

7. **品質確認**
   - 歌詞データの完全性チェック
   - リンクの有効性確認
   - パフォーマンステスト

## 安全対策

### 本番環境保護

- 本番環境への直接的な変更は一切行わない
- WebFetch使用時は読み取り専用操作のみ
- デプロイメント操作は事前承認制

### データ保護

- 全作業前にローカルファイルの完全バックアップ
- 段階的変更でロールバック可能な状態維持
- Git管理による変更履歴の保持

### 作業ログ

- 各フェーズの開始・完了時刻記録
- 発見した問題点の詳細記録
- 実行したコマンドの履歴保持

## 成果物

1. ローカル環境と本番環境の完全同期
2. 不足している15曲のデータ特定・追加
3. 乖離原因の技術レポート
4. 今後の同期手順書

## リスク管理

- **低リスク**: 読み取り専用操作、ローカル作業
- **中リスク**: デプロイメント操作（事前承認必要）
- **高リスク**: 本番データ直接変更（禁止）

## 承認事項

- 本作業は本番環境に影響を与えません
- すべての変更はローカル環境でのみ実行
- デプロイは別途承認が必要
