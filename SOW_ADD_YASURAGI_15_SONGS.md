# SOW: 2ndアルバム「YASURAGI」収録曲15曲をSongs&Lyricsに追加

## 概要

appriver公式サイトのSongs&Lyrics（楽曲・歌詞）セクションに、2ndアルバム「YASURAGI」収録の15曲すべてを追加する。本番環境に影響を与えずに段階的に実装する。

## 現状分析

### 現在の楽曲データ状況

**songs-data.js** に収録されている楽曲：

- **NUKUMORIアルバム収録**: 14曲（「いのちの理由」含む）
- **単独リリース**: 8曲（「いのちの理由」重複含む）
- **実際のカード表示数**: 22枚（重複除く）
- **YASURAGIアルバム収録**: 0曲（未実装）

### 楽曲構成詳細

**NUKUMORIアルバム（14曲）**:

- いのちの理由 ※シングルと重複
- 優しい光、もし、今何してるだろう、君だけのうた
- 涙が、このままずっと、見えない光、夢でしか
- 僕の道は、全てなくしても、寂しくて、希望へ、君といる

**単独リリース（8曲、重複1曲）**:

- いのちの理由 ※NUKUMORIアルバムと重複
- 君の影、心の羽、時間をこえて、君を守りたい
- あの日々、戻れるなら、待ち続ける

### YASURAGI アルバム楽曲一覧（15曲すべて未実装）

❌ **未実装（15曲）**:

1. [曲名1] - 楽曲情報待ち
2. [曲名2] - 楽曲情報待ち
3. [曲名3] - 楽曲情報待ち
4. [曲名4] - 楽曲情報待ち
5. [曲名5] - 楽曲情報待ち
6. [曲名6] - 楽曲情報待ち
7. [曲名7] - 楽曲情報待ち
8. [曲名8] - 楽曲情報待ち
9. [曲名9] - 楽曲情報待ち
10. [曲名10] - 楽曲情報待ち
11. [曲名11] - 楽曲情報待ち
12. [曲名12] - 楽曲情報待ち
13. [曲名13] - 楽曲情報待ち
14. [曲名14] - 楽曲情報待ち
15. [曲名15] - 楽曲情報待ち

## 要件

### 機能要件

1. **楽曲データの追加**
   - YASURAGIアルバム15曲すべてをsongs-data.jsに追加
   - Songs&Lyricsセクションで表示・検索・ソート対応
   - カード表示数: 22枚 → 37枚

2. **データ構造の統一性**
   - 既存の楽曲データ構造を維持
   - アルバム表記の統一（album: "YASURAGI", albumReading: "やすらぎ"）
   - リリース日: "2025-08-22"

3. **音楽プレーヤー対応**
   - 各楽曲にyoutubeVideoIdを設定
   - 音楽プレーヤー機能での再生対応
   - 配信リンク（linkUrl）の設定

### 技術要件

1. **本番環境影響なし**
   - 新ブランチでの開発
   - ステージング環境での動作確認
   - 段階的マージによるリスク最小化

2. **パフォーマンス考慮**
   - 楽曲カード数大幅増加（22枚→37枚）による読み込み速度への影響確認
   - 検索・ソート機能の動作速度確認
   - データ量約1.7倍増加への対応

## 必要な楽曲データ項目

各楽曲について以下の情報が必要：

```javascript
{
  title: "楽曲名",
  reading: "楽曲名読み（ひらがな）",
  album: "YASURAGI",
  albumReading: "やすらぎ",
  releaseDate: "2025-08-22",
  linkUrl: "配信リンクURL",
  youtubeVideoId: "YouTube動画ID",
  lyrics: `歌詞テキスト`
}
```

## 実装手順

### Phase 1: 開発準備

1. **楽曲情報の収集**
   - YASURAGI収録15曲の詳細情報取得
   - YouTube Video ID、配信リンクの準備

2. **開発環境準備**

   ```bash
   git checkout -b feature/add-yasuragi-15-songs
   ```

3. **現状バックアップ**
   - songs-data.js のバックアップ作成

### Phase 2: 楽曲データ実装

1. **songs-data.js 拡張**
   - YASURAGIアルバム15曲のデータ追加
   - データ構造の統一性確認

2. **データ整合性チェック**
   - 全楽曲のアルバム情報統一
   - youtubeVideoId設定確認
   - linkUrl設定確認

### Phase 3: 表示機能確認

1. **Songs&Lyrics表示テスト**
   - 37枚のカード表示確認
   - アルバムごとの表示確認
   - 検索機能の動作確認
   - ソート機能の動作確認

2. **音楽プレーヤー動作確認**
   - YouTubeプレーヤーでの再生確認
   - 楽曲切り替え機能確認

### Phase 4: テスト・デプロイ

1. **ローカル環境テスト**
   - 機能動作確認
   - レスポンシブデザイン確認
   - パフォーマンス確認

2. **ステージング環境デプロイ**
   - Vercelプレビューでの確認
   - 全機能の統合テスト

3. **本番環境マージ**
   - 段階的マージ
   - 本番動作確認

## リスク要因と対策

### 1. データ量増加リスク

**リスク**: 楽曲カード数大幅増加（+15枚、約1.7倍）による読み込み速度低下
**対策**:

- データ構造の最適化
- 遅延読み込みの検討
- 仮想スクロールの検討

### 2. 楽曲情報不備リスク

**リスク**: YouTube Video IDや歌詞データの不備
**対策**:

- 実装前の楽曲情報完全性チェック
- プレースホルダー対応

### 3. 検索・ソート性能リスク

**リスク**: 楽曲数増加による検索・ソート処理の重い実行
**対策**:

- インデックス化の検討
- クライアントサイド処理の最適化

### 4. 本番環境影響リスク

**リスク**: 大幅なデータ追加による既存機能への影響
**対策**:

- 新ブランチでの独立開発
- 段階的テスト・デプロイ
- ロールバック計画の準備

## 成功基準

### 必須要件

- [ ] YASURAGIアルバム15曲すべてがSongs&Lyricsに表示される
- [ ] 楽曲カード数が37枚表示される
- [ ] アルバム「YASURAGI」でのフィルタリングが機能する
- [ ] 検索機能で全楽曲が検索対象となる
- [ ] ソート機能が正常動作する（リリース日、曲名など）
- [ ] YouTubeプレーヤーで全楽曲が再生可能
- [ ] 既存機能（NUKUMORI楽曲、単独楽曲）に影響がない

### 追加要件

- [ ] 楽曲表示順序が適切（最新アルバム優先等）
- [ ] モバイル・デスクトップでの表示最適化
- [ ] アクセシビリティ対応維持
- [ ] ページ読み込み速度の維持（データ量1.7倍増加対応）

## 開発スケジュール

| フェーズ | 作業内容               | 想定時間 | 完了条件                         |
| -------- | ---------------------- | -------- | -------------------------------- |
| Phase 1  | 楽曲情報収集・開発準備 | 1時間    | 15曲分の完全な楽曲データ準備完了 |
| Phase 2  | 楽曲データ実装         | 2.5時間  | songs-data.js更新完了            |
| Phase 3  | 表示機能確認           | 2時間    | 全機能動作確認完了               |
| Phase 4  | テスト・デプロイ       | 1.5時間  | 本番環境デプロイ完了             |

**総想定時間**: 7時間

## 楽曲データテンプレート

実装時に使用するデータ構造テンプレート：

```javascript
// YASURAGIアルバム楽曲データ追加例
yasuragi_song1: {
  title: "[楽曲名]",
  reading: "[楽曲名読み]",
  album: "YASURAGI",
  albumReading: "やすらぎ",
  releaseDate: "2025-08-22",
  linkUrl: "[配信リンクURL]",
  youtubeVideoId: "[YouTube動画ID]",
  lyrics: `[歌詞テキスト]`
},
```

## 完了後の確認事項

1. **楽曲一覧確認**
   - Songs&Lyricsで37枚のカード表示確認
   - YASURAGIアルバム15曲の表示確認

2. **機能動作確認**
   - アルバム別表示機能（NUKUMORI/YASURAGI/単独）
   - 検索機能での全楽曲ヒット確認
   - ソート機能の正常動作
   - 音楽プレーヤーでの再生確認

3. **パフォーマンス確認**
   - ページ読み込み速度確認（データ量1.7倍増加）
   - 検索・ソート応答速度確認

4. **クロスブラウザ確認**
   - Chrome, Safari, Firefox での動作確認
   - モバイルブラウザでの動作確認

---

**重要**:

- 実装開始前にYASURAGIアルバム15曲の完全な楽曲情報が必要
- 楽曲カード数の大幅増加（22→37枚）によるUX影響の注意深い確認が必要
- データ量約1.7倍増加によるパフォーマンス影響の継続的な監視が必要
